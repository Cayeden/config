#!/usr/bin/env bash

# Minimal Hyprland autostart for systemd SSH agent

# Ensure systemd SSH agent is running
systemctl --user start ssh-agent.service

# Export SSH_AUTH_SOCK so GUI apps see it
export SSH_AUTH_SOCK=$(systemctl show --user ssh-agent.service --property=Environment | grep -oP 'SSH_AUTH_SOCK=\K.*')

# Import into systemd environment for child processes
systemctl --user import-environment SSH_AUTH_SOCK